–§–æ—Ä–º–∞—Ç telemetry (–µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

–¢–≤–æ—è —Ü–µ–ª—å ‚Äî —á—Ç–æ–±—ã –ª—é–±–æ–π ESP32 –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –±–µ–∑ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

üîë –ü—Ä–∞–≤–∏–ª–∞:

–û–¥–∏–Ω —Ç–æ–ø–∏–∫ = –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
–ü–ª–æ—Å–∫–∏–π JSON
–ë–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
–ú–∏–Ω–∏–º—É–º —Å–ª—É–∂–µ–±–Ω—ã—Ö –ø–æ–ª–µ–π

üì§ MQTT Topic
iot/<device_id>/telemetry

Payload (–ø—Ä–∏–º–µ—Ä)
{
  "ts": 1736921123,
  "uptime": 45231,
  "voltage": 230.4,
  "current": 3.12,
  "power": 718.5,
  "energy": 1.423,
  "relay1": true,
  "relay2": false,
  "wifi_rssi": -61
}



–ü–æ—á–µ–º—É —Ç–∞–∫ —Ö–æ—Ä–æ—à–æ

UI –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å:
for (key in json)
  createParameter(key)

–ë–µ–∑ –∫–æ–Ω—Ñ–∏–≥–æ–≤.
–ë–µ–∑ —Ä—É—á–Ω—ã—Ö jsonPath.



–û–±—Ä–∞—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
Topic: iot/<device_id>/command/<param>
Payload:
true

–∏–ª–∏

{ "value": true }
